{% extends 'base.html.twig' %}

{% block title %}Hello ProductController!{% endblock %}

{% block body %}

<div>
    <h1>Panier</h1>
    {% if products|length > 0 %}
        <table class="table">
                <thead>
                    <tr>
                        <th>Nom</th>
                        <th>Prix</th>
                        <th>Quantité</th>
                        <th>Supprimer l'article du panier</th>
                    </tr>
                </thead>
                <tbody>
                {% for product in products %}
                    <tr class="card-user">
                        <td><a href="./product/{{ product.id}}">{{ product.name}}</a></td>
                        <td>{{ product.price}} €</td>
                        <td>{{ product.qty}}</td>
                        <td><a class="btn btn-danger" href="{{ path('cart.delete', {'id': product.id }) }}">X</a></td>
                    </tr>
                {% endfor %}
                </tbody>
        </table>
        <h4>Prix total : {{ totalPrice}} €</h4>
        
        {{ form_start(commandForm) }}
        <div style="display:flex;flex-direction:row; justify-content: center; align-items:center; gap: 30px;">
        {{ form_row(commandForm.email) }}
        <button type="submit" class="btn btn-primary btn-block">
            Créer la commande
        </button>
        </div>
    {{ form_end(commandForm) }}
    {% else %}
        <h4>Votre panier est vide</h4>
        
    {% endif %}
</div>
{% endblock %}
